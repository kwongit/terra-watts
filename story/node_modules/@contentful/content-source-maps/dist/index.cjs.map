{"version":3,"file":"index.cjs","sources":["../../../node_modules/@vercel/stega/dist/index.mjs","../src/encode.ts","../../../node_modules/foreach/index.js","../../../node_modules/json-pointer/index.js","../src/richText.ts","../src/utils.ts","../src/graphql/encodeGraphQLResponse.ts","../src/rest/encodeCPAResponse.ts"],"sourcesContent":["var s={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},c={0:8203,1:8204,2:8205,3:65279},u=new Array(4).fill(String.fromCodePoint(c[0])).join(\"\"),m=String.fromCharCode(0);function E(t){let e=JSON.stringify(t);return`${u}${Array.from(e).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(4).padStart(4,\"0\")).map(o=>String.fromCodePoint(c[o])).join(\"\")}).join(\"\")}`}function y(t){let e=JSON.stringify(t);return Array.from(e).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(16).padStart(2,\"0\")).map(o=>String.fromCodePoint(s[o])).join(\"\")}).join(\"\")}function I(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\\d+(?:[-:\\/]\\d+){2}(?:T\\d+(?:[-:\\/]\\d+){1,2}(\\.\\d+)?Z?)?/.test(t)?!1:Boolean(Date.parse(t))}function T(t){try{new URL(t,t.startsWith(\"/\")?\"https://acme.com\":void 0)}catch{return!1}return!0}function C(t,e,r=\"auto\"){return r===!0||r===\"auto\"&&(I(t)||T(t))?t:`${t}${E(e)}`}var x=Object.fromEntries(Object.entries(c).map(t=>t.reverse())),g=Object.fromEntries(Object.entries(s).map(t=>t.reverse())),S=`${Object.values(s).map(t=>`\\\\u{${t.toString(16)}}`).join(\"\")}`,f=new RegExp(`[${S}]{4,}`,\"gu\");function G(t){let e=t.match(f);if(!!e)return h(e[0],!0)[0]}function $(t){let e=t.match(f);if(!!e)return e.map(r=>h(r)).flat()}function h(t,e=!1){let r=Array.from(t);if(r.length%2===0){if(r.length%4||!t.startsWith(u))return A(r,e)}else throw new Error(\"Encoded data has invalid length\");let n=[];for(let o=r.length*.25;o--;){let p=r.slice(o*4,o*4+4).map(d=>x[d.codePointAt(0)]).join(\"\");n.unshift(String.fromCharCode(parseInt(p,4)))}if(e){n.shift();let o=n.indexOf(m);return o===-1&&(o=n.length),[JSON.parse(n.slice(0,o).join(\"\"))]}return n.join(\"\").split(m).filter(Boolean).map(o=>JSON.parse(o))}function A(t,e){var d;let r=[];for(let i=t.length*.5;i--;){let a=`${g[t[i*2].codePointAt(0)]}${g[t[i*2+1].codePointAt(0)]}`;r.unshift(String.fromCharCode(parseInt(a,16)))}let n=[],o=[r.join(\"\")],p=10;for(;o.length;){let i=o.shift();try{if(n.push(JSON.parse(i)),e)return n}catch(a){if(!p--)throw a;let l=+((d=a.message.match(/\\sposition\\s(\\d+)$/))==null?void 0:d[1]);if(!l)throw a;o.unshift(i.substring(0,l),i.substring(l))}}return n}function _(t){var e;return{cleaned:t.replace(f,\"\"),encoded:((e=t.match(f))==null?void 0:e[0])||\"\"}}function O(t){return t&&JSON.parse(_(JSON.stringify(t)).cleaned)}export{f as VERCEL_STEGA_REGEX,y as legacyStegaEncode,O as vercelStegaClean,C as vercelStegaCombine,G as vercelStegaDecode,$ as vercelStegaDecodeAll,E as vercelStegaEncode,_ as vercelStegaSplit};\n","import {\n  vercelStegaCombine,\n  vercelStegaDecode,\n  vercelStegaEncode,\n  vercelStegaSplit,\n} from '@vercel/stega';\nimport type { SourceMapMetadata } from './types.js';\n\nexport function combine(text: string, metadata: SourceMapMetadata): string {\n  return vercelStegaCombine(text, metadata);\n}\n\nexport function encode(metadata: SourceMapMetadata): string {\n  return vercelStegaEncode(metadata);\n}\n\nexport function decode(text: string): SourceMapMetadata | undefined {\n  return vercelStegaDecode(text);\n}\n\nexport function splitEncoding(text: string): {\n  /** The original string with encoded substring removed */\n  cleaned: string;\n  /** The encoded substring from the original string */\n  encoded: string;\n} {\n  return vercelStegaSplit(text);\n}\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","'use strict';\n\nvar each = require('foreach');\nmodule.exports = api;\n\n\n/**\n * Convenience wrapper around the api.\n * Calls `.get` when called with an `object` and a `pointer`.\n * Calls `.set` when also called with `value`.\n * If only supplied `object`, returns a partially applied function, mapped to the object.\n *\n * @param {Object} obj\n * @param {String|Array} pointer\n * @param value\n * @returns {*}\n */\n\nfunction api (obj, pointer, value) {\n    // .set()\n    if (arguments.length === 3) {\n        return api.set(obj, pointer, value);\n    }\n    // .get()\n    if (arguments.length === 2) {\n        return api.get(obj, pointer);\n    }\n    // Return a partially applied function on `obj`.\n    var wrapped = api.bind(api, obj);\n\n    // Support for oo style\n    for (var name in api) {\n        if (api.hasOwnProperty(name)) {\n            wrapped[name] = api[name].bind(wrapped, obj);\n        }\n    }\n    return wrapped;\n}\n\n\n/**\n * Lookup a json pointer in an object\n *\n * @param {Object} obj\n * @param {String|Array} pointer\n * @returns {*}\n */\napi.get = function get (obj, pointer) {\n    var refTokens = Array.isArray(pointer) ? pointer : api.parse(pointer);\n\n    for (var i = 0; i < refTokens.length; ++i) {\n        var tok = refTokens[i];\n        if (!(typeof obj == 'object' && tok in obj)) {\n            throw new Error('Invalid reference token: ' + tok);\n        }\n        obj = obj[tok];\n    }\n    return obj;\n};\n\n/**\n * Sets a value on an object\n *\n * @param {Object} obj\n * @param {String|Array} pointer\n * @param value\n */\napi.set = function set (obj, pointer, value) {\n    var refTokens = Array.isArray(pointer) ? pointer : api.parse(pointer),\n      nextTok = refTokens[0];\n\n    if (refTokens.length === 0) {\n      throw Error('Can not set the root object');\n    }\n\n    for (var i = 0; i < refTokens.length - 1; ++i) {\n        var tok = refTokens[i];\n        if (typeof tok !== 'string' && typeof tok !== 'number') {\n          tok = String(tok)\n        }\n        if (tok === \"__proto__\" || tok === \"constructor\" || tok === \"prototype\") {\n            continue\n        }\n        if (tok === '-' && Array.isArray(obj)) {\n          tok = obj.length;\n        }\n        nextTok = refTokens[i + 1];\n\n        if (!(tok in obj)) {\n            if (nextTok.match(/^(\\d+|-)$/)) {\n                obj[tok] = [];\n            } else {\n                obj[tok] = {};\n            }\n        }\n        obj = obj[tok];\n    }\n    if (nextTok === '-' && Array.isArray(obj)) {\n      nextTok = obj.length;\n    }\n    obj[nextTok] = value;\n    return this;\n};\n\n/**\n * Removes an attribute\n *\n * @param {Object} obj\n * @param {String|Array} pointer\n */\napi.remove = function (obj, pointer) {\n    var refTokens = Array.isArray(pointer) ? pointer : api.parse(pointer);\n    var finalToken = refTokens[refTokens.length -1];\n    if (finalToken === undefined) {\n        throw new Error('Invalid JSON pointer for remove: \"' + pointer + '\"');\n    }\n\n    var parent = api.get(obj, refTokens.slice(0, -1));\n    if (Array.isArray(parent)) {\n      var index = +finalToken;\n      if (finalToken === '' && isNaN(index)) {\n        throw new Error('Invalid array index: \"' + finalToken + '\"');\n      }\n\n      Array.prototype.splice.call(parent, index, 1);\n    } else {\n      delete parent[finalToken];\n    }\n};\n\n/**\n * Returns a (pointer -> value) dictionary for an object\n *\n * @param obj\n * @param {function} descend\n * @returns {}\n */\napi.dict = function dict (obj, descend) {\n    var results = {};\n    api.walk(obj, function (value, pointer) {\n        results[pointer] = value;\n    }, descend);\n    return results;\n};\n\n/**\n * Iterates over an object\n * Iterator: function (value, pointer) {}\n *\n * @param obj\n * @param {function} iterator\n * @param {function} descend\n */\napi.walk = function walk (obj, iterator, descend) {\n    var refTokens = [];\n\n    descend = descend || function (value) {\n        var type = Object.prototype.toString.call(value);\n        return type === '[object Object]' || type === '[object Array]';\n    };\n\n    (function next (cur) {\n        each(cur, function (value, key) {\n            refTokens.push(String(key));\n            if (descend(value)) {\n                next(value);\n            } else {\n                iterator(value, api.compile(refTokens));\n            }\n            refTokens.pop();\n        });\n    }(obj));\n};\n\n/**\n * Tests if an object has a value for a json pointer\n *\n * @param obj\n * @param pointer\n * @returns {boolean}\n */\napi.has = function has (obj, pointer) {\n    try {\n        api.get(obj, pointer);\n    } catch (e) {\n        return false;\n    }\n    return true;\n};\n\n/**\n * Escapes a reference token\n *\n * @param str\n * @returns {string}\n */\napi.escape = function escape (str) {\n    return str.toString().replace(/~/g, '~0').replace(/\\//g, '~1');\n};\n\n/**\n * Unescapes a reference token\n *\n * @param str\n * @returns {string}\n */\napi.unescape = function unescape (str) {\n    return str.replace(/~1/g, '/').replace(/~0/g, '~');\n};\n\n/**\n * Converts a json pointer into a array of reference tokens\n *\n * @param pointer\n * @returns {Array}\n */\napi.parse = function parse (pointer) {\n    if (pointer === '') { return []; }\n    if (pointer.charAt(0) !== '/') { throw new Error('Invalid JSON pointer: ' + pointer); }\n    return pointer.substring(1).split(/\\//).map(api.unescape);\n};\n\n/**\n * Builds a json pointer from a array of reference tokens\n *\n * @param refTokens\n * @returns {string}\n */\napi.compile = function compile (refTokens) {\n    if (refTokens.length === 0) { return ''; }\n    return '/' + refTokens.map(api.escape).join('/');\n};\n","import { get, set } from 'json-pointer';\n\nimport { combine } from './encode.js';\nimport type { SourceMapMetadata, CPAMappings, GraphQLMappings } from './types.js';\n\nexport const encodeRichTextValue = ({\n  pointer,\n  mappings,\n  data,\n  hiddenStrings,\n}: {\n  pointer: string;\n  mappings: CPAMappings | GraphQLMappings;\n  data: any;\n  hiddenStrings: SourceMapMetadata;\n}) => {\n  const source = mappings[pointer];\n  // remove old pointer to rich text field as we will just be mapping the text nodes\n  delete mappings[pointer];\n\n  const textNodes = findRichTextNodes(data, pointer);\n  for (const textNode of textNodes) {\n    mappings[textNode] = source;\n    const currentTextNodeValue = get(data, textNode);\n    const encodedValue = combine(currentTextNodeValue, hiddenStrings);\n    set(data, textNode, encodedValue);\n  }\n};\n\nconst findRichTextNodes = (data: Node, currentPath = ''): string[] => {\n  const textNodes = [];\n  const node = get(data, currentPath);\n\n  if (node.content) {\n    for (let i = 0; i < node.content.length; i++) {\n      if (node.content[i].nodeType === 'text') {\n        textNodes.push(`${currentPath}/content/${i}/value`);\n      } else {\n        textNodes.push(...findRichTextNodes(data, `${currentPath}/content/${i}`));\n      }\n    }\n  }\n\n  return textNodes;\n};\n","import { set } from 'json-pointer';\nimport { combine } from './encode.js';\nimport { encodeRichTextValue } from './richText.js';\nimport type {\n  SourceMapMetadata,\n  EditorInterfaceSource,\n  WidgetId,\n  WidgetNamespace,\n  FieldType,\n  CPAEntry,\n  CPAMappings,\n  GraphQLMappings,\n} from './types.js';\nimport { EntrySkeletonType } from 'contentful';\n\nexport const createSourceMapMetadata = ({\n  entityId,\n  entityType,\n  space,\n  environment,\n  field,\n  locale,\n  editorInterface,\n  fieldType,\n  targetOrigin,\n}: {\n  entityId: string;\n  entityType: string;\n  space: string;\n  environment: string;\n  field: string;\n  locale: string;\n  editorInterface: EditorInterfaceSource;\n  fieldType: string;\n  targetOrigin?: 'https://app.contentful.com' | 'https://app.eu.contentful.com';\n}): SourceMapMetadata => {\n  const targetOriginUrl = targetOrigin || 'https://app.contentful.com';\n  const basePath = `${targetOriginUrl}/spaces/${space}/environments/${environment}`;\n  const entityRoute = entityType === 'Entry' ? 'entries' : 'assets';\n  const href = `${basePath}/${entityRoute}/${entityId}/?focusedField=${field}&focusedLocale=${locale}`;\n\n  return {\n    origin: 'contentful.com',\n    href,\n    contentful: {\n      space,\n      environment,\n      field,\n      locale,\n      entity: entityId,\n      entityType,\n      editorInterface,\n      fieldType,\n    },\n  };\n};\n\nexport const isBuiltinNamespace = (namespace: WidgetNamespace) =>\n  ['builtin', 'sidebar-builtin', 'editor-builtin'].includes(namespace);\nexport const isSupportedWidget = (widgetId: WidgetId) => SUPPORTED_WIDGETS.includes(widgetId);\n\n/**\n * Clones the incoming element into a new one, to prevent modification on the original object\n * Hint: It uses the structuredClone which is only available in modern browsers,\n * for older one it uses the JSON.parse(JSON.stringify) hack.\n */\nexport function clone<T extends Record<string, unknown> | Array<unknown>>(incoming: T): T {\n  if (typeof structuredClone === 'function') {\n    return structuredClone(incoming);\n  }\n\n  try {\n    return JSON.parse(JSON.stringify(incoming));\n  } catch (err) {\n    console.warn('Failed to clone data:', incoming, err);\n    return incoming;\n  }\n}\n\nexport const SUPPORTED_WIDGETS: WidgetId[] = [\n  'singleLine',\n  'tagEditor',\n  'listInput',\n  'checkbox',\n  'richTextEditor',\n  'multipleLine',\n  'markdown',\n];\n\nexport function encodeField(\n  fieldType: FieldType,\n  currentValue: any,\n  hiddenStrings: SourceMapMetadata,\n  target: CPAEntry<EntrySkeletonType>,\n  pointer: string,\n  mappings: CPAMappings | GraphQLMappings,\n  locale?: string,\n) {\n  // Determine the value based on locale (if provided)\n  const value = locale ? currentValue[locale] : currentValue;\n\n  // Process based on fieldType\n  switch (fieldType) {\n    case 'Symbol': {\n      const encodedValue = combine(value, hiddenStrings);\n      set(target, pointer, encodedValue);\n      break;\n    }\n\n    case 'RichText': {\n      encodeRichTextValue({\n        pointer: '',\n        mappings,\n        data: value,\n        hiddenStrings,\n      });\n      break;\n    }\n\n    case 'Array': {\n      const encodedArray = value.map((item: unknown) => {\n        if (typeof item === 'string') {\n          return combine(item, hiddenStrings);\n        } else {\n          return item; // Return the item unchanged if it's not a string\n        }\n      });\n      set(target, pointer, encodedArray);\n      break;\n    }\n  }\n}\n","import { has, get } from 'json-pointer';\nimport type { GraphQLResponse } from '../types.js';\nimport {\n  clone,\n  createSourceMapMetadata,\n  encodeField,\n  isBuiltinNamespace,\n  isSupportedWidget,\n} from '../utils.js';\n\nexport const encodeGraphQLResponse = (\n  originalGraphqlResponse: GraphQLResponse,\n  targetOrigin?: 'https://app.contentful.com' | 'https://app.eu.contentful.com',\n): GraphQLResponse => {\n  if (\n    !originalGraphqlResponse ||\n    !originalGraphqlResponse.extensions ||\n    !originalGraphqlResponse.extensions.contentSourceMaps\n  ) {\n    console.error(\n      'GraphQL response does not contain Content Source Maps information.',\n      originalGraphqlResponse,\n    );\n    return originalGraphqlResponse;\n  }\n  const modifiedGraphqlResponse = clone(\n    originalGraphqlResponse as unknown as Record<string, unknown>,\n  ) as unknown as GraphQLResponse;\n  const {\n    spaces,\n    environments,\n    editorInterfaces,\n    fields,\n    locales,\n    entries,\n    assets,\n    mappings,\n    fieldTypes,\n  } = modifiedGraphqlResponse.extensions.contentSourceMaps;\n  const target = modifiedGraphqlResponse.data;\n\n  for (const pointer in mappings) {\n    const { source } = mappings[pointer];\n\n    const entity = 'entry' in source ? entries[source.entry] : assets[source.asset];\n    const entityType = 'entry' in source ? 'Entry' : 'Asset';\n\n    if (!entity) {\n      return modifiedGraphqlResponse;\n    }\n\n    const space = spaces[entity.space];\n    const environment = environments[entity.environment];\n    const entityId = entity.id;\n    const field = fields[source.field];\n    const locale = locales[source.locale];\n    const editorInterface = editorInterfaces[source.editorInterface];\n    const fieldType = fieldTypes[source.fieldType];\n\n    // Skip unsupported widgets\n    if (\n      isBuiltinNamespace(editorInterface.widgetNamespace) &&\n      !isSupportedWidget(editorInterface.widgetId)\n    ) {\n      continue;\n    }\n\n    if (has(target, pointer)) {\n      const currentValue = get(target, pointer);\n\n      if (currentValue !== null) {\n        const hiddenStrings = createSourceMapMetadata({\n          entityId,\n          entityType,\n          space,\n          environment,\n          field,\n          locale,\n          editorInterface,\n          fieldType,\n          targetOrigin,\n        });\n\n        encodeField(fieldType, currentValue, hiddenStrings, target, pointer, mappings);\n      }\n    } else {\n      console.error(`Pointer ${pointer} not found in GraphQL data or href could not be generated.`);\n    }\n  }\n  return modifiedGraphqlResponse;\n};\n","import { has, get } from 'json-pointer';\nimport type { CPAEntry, CPAEntryCollection, EditorInterfaceSource, FieldType } from '../types.js';\nimport {\n  clone,\n  createSourceMapMetadata,\n  encodeField,\n  isBuiltinNamespace,\n  isSupportedWidget,\n} from '../utils.js';\n\nconst applyEncoding = (\n  target: CPAEntry,\n  fieldTypes: FieldType[],\n  editorInterfaces: EditorInterfaceSource[],\n  targetOrigin?: 'https://app.contentful.com' | 'https://app.eu.contentful.com',\n) => {\n  if (!target.fields) {\n    return;\n  }\n  const { contentSourceMaps } = target.sys;\n  if (!contentSourceMaps) {\n    console.error('Content source maps data is missing');\n    return;\n  }\n  const { mappings } = contentSourceMaps;\n\n  for (const pointer in mappings) {\n    const { source } = mappings[pointer];\n    const space = target.sys.space.sys.id;\n    const environment = target.sys.environment.sys.id;\n    const entityId = target.sys.id;\n    const entityType = target.sys.type;\n    const fieldType = fieldTypes[source.fieldType];\n    const editorInterface = editorInterfaces[source.editorInterface];\n\n    // Skip unsupported widgets\n    if (\n      isBuiltinNamespace(editorInterface.widgetNamespace) &&\n      !isSupportedWidget(editorInterface.widgetId)\n    ) {\n      continue;\n    }\n\n    if (has(target, pointer)) {\n      const currentValue = get(target, pointer);\n      if (currentValue === null) {\n        return;\n      }\n      const fieldParts = pointer.split('/'); // Split the pointer into parts\n      const field = fieldParts.pop(); // Get the last part, which is the field name\n      if (!field) {\n        console.error('Field name could not be extracted from the pointer', pointer);\n        return;\n      }\n      const locale = target.sys.locale;\n\n      // Determine if we are dealing with multiple locale values in the response or just a single locale\n      if (locale) {\n        const hiddenStrings = createSourceMapMetadata({\n          entityId,\n          entityType,\n          space,\n          environment,\n          field,\n          locale,\n          editorInterface,\n          fieldType,\n          targetOrigin,\n        });\n\n        encodeField(fieldType, currentValue, hiddenStrings, target, pointer, mappings);\n      } else {\n        const locales = Object.keys(currentValue);\n        locales.forEach((locale) => {\n          const hiddenStrings = createSourceMapMetadata({\n            entityId,\n            entityType,\n            space,\n            environment,\n            field,\n            locale,\n            editorInterface,\n            fieldType,\n            targetOrigin,\n          });\n\n          encodeField(\n            fieldType,\n            currentValue,\n            hiddenStrings,\n            target,\n            `${pointer}/${locale}`,\n            mappings,\n            locale,\n          );\n        });\n      }\n    } else {\n      console.error('Pointer not found in the target', pointer, target);\n    }\n  }\n};\n\nexport const encodeCPAResponse = (\n  CPAResponse: CPAEntry | CPAEntryCollection,\n  targetOrigin?: 'https://app.contentful.com' | 'https://app.eu.contentful.com',\n): CPAEntry | CPAEntryCollection => {\n  const modifiedCPAResponse = clone(\n    CPAResponse as unknown as Record<string, unknown>,\n  ) as unknown as CPAEntry | CPAEntryCollection;\n\n  // Entity collections\n  if (modifiedCPAResponse.sys.type === 'Array') {\n    const collection = modifiedCPAResponse as CPAEntryCollection;\n    if (!collection.sys.contentSourceMapsLookup) {\n      console.error('Content source maps lookup data is missing');\n      return collection;\n    }\n    const {\n      contentSourceMapsLookup: { fieldTypes, editorInterfaces },\n    } = collection.sys;\n    const { items, includes } = collection;\n\n    items.forEach((target) => applyEncoding(target, fieldTypes, editorInterfaces, targetOrigin));\n    if (includes && includes.Entry) {\n      includes.Entry.forEach((entry) =>\n        applyEncoding(entry, fieldTypes, editorInterfaces, targetOrigin),\n      );\n    }\n    if (includes && includes.Asset) {\n      includes.Asset.forEach((asset) =>\n        applyEncoding(asset, fieldTypes, editorInterfaces, targetOrigin),\n      );\n    }\n    // Single entity\n  } else {\n    const entry = modifiedCPAResponse as CPAEntry;\n    if (!entry.sys.contentSourceMapsLookup) {\n      console.error('Content source maps lookup data is missing');\n      return entry;\n    }\n\n    applyEncoding(\n      entry,\n      entry.sys.contentSourceMapsLookup.fieldTypes,\n      entry.sys.contentSourceMapsLookup.editorInterfaces,\n      targetOrigin,\n    );\n  }\n\n  return modifiedCPAResponse;\n};\n"],"names":["s","c","u","m","E","t","e","r","o","I","T","C","x","g","S","f","G","h","A","p","d","i","a","n","l","_","combine","text","metadata","vercelStegaCombine","encode","vercelStegaEncode","decode","vercelStegaDecode","splitEncoding","vercelStegaSplit","hasOwn","toString","foreach","obj","fn","ctx","k","each","require$$0","jsonPointer","api","pointer","value","wrapped","name","refTokens","tok","nextTok","finalToken","parent","index","descend","results","iterator","type","next","cur","key","str","encodeRichTextValue","mappings","data","hiddenStrings","source","textNodes","findRichTextNodes","textNode","currentTextNodeValue","get","encodedValue","set","currentPath","node","createSourceMapMetadata","entityId","entityType","space","environment","field","locale","editorInterface","fieldType","targetOrigin","isBuiltinNamespace","namespace","isSupportedWidget","widgetId","SUPPORTED_WIDGETS","clone","incoming","err","encodeField","currentValue","target","encodedArray","item","encodeGraphQLResponse","originalGraphqlResponse","modifiedGraphqlResponse","spaces","environments","editorInterfaces","fields","locales","entries","assets","fieldTypes","entity","has","applyEncoding","contentSourceMaps","encodeCPAResponse","CPAResponse","modifiedCPAResponse","collection","items","includes","entry","asset"],"mappings":"gFAAA,IAAIA,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAEC,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAEC,EAAE,IAAI,MAAM,CAAC,EAAE,KAAK,OAAO,cAAcD,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAEE,EAAE,KAAuB,SAASC,EAAEC,EAAE,CAAC,IAAIC,EAAE,KAAK,UAAUD,CAAC,EAAE,MAAM,GAAGH,CAAC,GAAG,MAAM,KAAKI,CAAC,EAAE,IAAIC,GAAG,CAAC,IAAI,EAAEA,EAAE,WAAW,CAAC,EAAE,GAAG,EAAE,IAAI,MAAM,IAAI,MAAM,mEAAmED,CAAC,iBAAiBC,CAAC,KAAK,CAAC,GAAG,EAAE,OAAO,MAAM,KAAK,EAAE,SAAS,CAAC,EAAE,SAAS,EAAE,GAAG,CAAC,EAAE,IAAIC,GAAG,OAAO,cAAcP,EAAEO,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAA6T,SAASC,EAAEJ,EAAE,CAAC,MAAM,CAAC,OAAO,MAAM,OAAOA,CAAC,CAAC,GAAG,SAAS,KAAKA,CAAC,GAAG,CAAC,2DAA2D,KAAKA,CAAC,EAAE,GAAG,EAAQ,KAAK,MAAMA,CAAC,CAAE,CAAC,SAASK,EAAEL,EAAE,CAAC,GAAG,CAAC,IAAI,IAAIA,EAAEA,EAAE,WAAW,GAAG,EAAE,mBAAmB,MAAM,CAAC,OAAMC,EAAA,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,CAAC,SAASK,EAAEN,EAAEC,EAAEC,EAAE,OAAO,CAAC,OAAOA,IAAI,IAAIA,IAAI,SAASE,EAAEJ,CAAC,GAAGK,EAAEL,CAAC,GAAGA,EAAE,GAAGA,CAAC,GAAGD,EAAEE,CAAC,CAAC,EAAE,CAAC,IAAIM,EAAE,OAAO,YAAY,OAAO,QAAQX,CAAC,EAAE,IAAII,GAAGA,EAAE,QAAO,CAAE,CAAC,EAAEQ,EAAE,OAAO,YAAY,OAAO,QAAQb,CAAC,EAAE,IAAIK,GAAGA,EAAE,QAAS,CAAA,CAAC,EAAES,EAAE,GAAG,OAAO,OAAOd,CAAC,EAAE,IAAIK,GAAG,OAAOA,EAAE,SAAS,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,GAAGU,EAAE,IAAI,OAAO,IAAID,CAAC,QAAQ,IAAI,EAAE,SAASE,EAAEX,EAAE,CAAC,IAAIC,EAAED,EAAE,MAAMU,CAAC,EAAE,GAAKT,EAAE,OAAOW,EAAEX,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAoE,SAASW,EAAEZ,EAAEC,EAAE,GAAG,CAAC,IAAIC,EAAE,MAAM,KAAKF,CAAC,EAAE,GAAGE,EAAE,OAAO,IAAI,GAAG,GAAGA,EAAE,OAAO,GAAG,CAACF,EAAE,WAAWH,CAAC,EAAE,OAAOgB,EAAEX,EAAED,CAAC,MAAO,OAAM,IAAI,MAAM,iCAAiC,EAAE,IAAI,EAAE,CAAA,EAAG,QAAQE,EAAED,EAAE,OAAO,IAAIC,KAAK,CAAC,IAAIW,EAAEZ,EAAE,MAAMC,EAAE,EAAEA,EAAE,EAAE,CAAC,EAAE,IAAIY,GAAGR,EAAEQ,EAAE,YAAY,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,OAAO,aAAa,SAASD,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGb,EAAE,CAAC,EAAE,MAAO,EAAC,IAAIE,EAAE,EAAE,QAAQL,CAAC,EAAE,OAAOK,IAAI,KAAKA,EAAE,EAAE,QAAQ,CAAC,KAAK,MAAM,EAAE,MAAM,EAAEA,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,MAAML,CAAC,EAAE,OAAO,OAAO,EAAE,IAAIK,GAAG,KAAK,MAAMA,CAAC,CAAC,CAAC,CAAC,SAASU,EAAEb,EAAEC,EAAE,CAAC,IAAIc,EAAE,IAAIb,EAAE,CAAA,EAAG,QAAQc,EAAEhB,EAAE,OAAO,GAAGgB,KAAK,CAAC,IAAIC,EAAE,GAAGT,EAAER,EAAEgB,EAAE,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC,GAAGR,EAAER,EAAEgB,EAAE,EAAE,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC,GAAGd,EAAE,QAAQ,OAAO,aAAa,SAASe,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAIC,EAAE,CAAA,EAAGf,EAAE,CAACD,EAAE,KAAK,EAAE,CAAC,EAAEY,EAAE,GAAG,KAAKX,EAAE,QAAQ,CAAC,IAAIa,EAAEb,EAAE,MAAK,EAAG,GAAG,CAAC,GAAGe,EAAE,KAAK,KAAK,MAAMF,CAAC,CAAC,EAAEf,EAAE,OAAOiB,CAAC,OAAOD,EAAE,CAAC,GAAG,CAACH,IAAI,MAAMG,EAAE,IAAIE,EAAE,GAAGJ,EAAEE,EAAE,QAAQ,MAAM,oBAAoB,IAAI,KAAK,OAAOF,EAAE,CAAC,GAAG,GAAG,CAACI,EAAE,MAAMF,EAAEd,EAAE,QAAQa,EAAE,UAAU,EAAEG,CAAC,EAAEH,EAAE,UAAUG,CAAC,CAAC,CAAC,CAAC,CAAC,OAAOD,CAAC,CAAC,SAASE,EAAEpB,EAAE,CAAC,IAAIC,EAAE,MAAM,CAAC,QAAQD,EAAE,QAAQU,EAAE,EAAE,EAAE,UAAUT,EAAED,EAAE,MAAMU,CAAC,IAAI,KAAK,OAAOT,EAAE,CAAC,IAAI,EAAE,CAAC,CCQhgF,SAAAoB,EAAQC,EAAcC,EAAqC,CAClE,OAAAC,EAAmBF,EAAMC,CAAQ,CAC1C,CAEO,SAASE,GAAOF,EAAqC,CAC1D,OAAOG,EAAkBH,CAAQ,CACnC,CAEO,SAASI,GAAOL,EAA6C,CAClE,OAAOM,EAAkBN,CAAI,CAC/B,CAEO,SAASO,GAAcP,EAK5B,CACA,OAAOQ,EAAiBR,CAAI,CAC9B,CC1BA,IAAIS,GAAS,OAAO,UAAU,eAC1BC,GAAW,OAAO,UAAU,SAEhCC,GAAiB,SAAkBC,EAAKC,EAAIC,EAAK,CAC7C,GAAIJ,GAAS,KAAKG,CAAE,IAAM,oBACtB,MAAM,IAAI,UAAU,6BAA6B,EAErD,IAAIhB,EAAIe,EAAI,OACZ,GAAIf,IAAM,CAACA,EACP,QAASH,EAAI,EAAGA,EAAIG,EAAGH,IACnBmB,EAAG,KAAKC,EAAKF,EAAIlB,CAAC,EAAGA,EAAGkB,CAAG,MAG/B,SAASG,KAAKH,EACNH,GAAO,KAAKG,EAAKG,CAAC,GAClBF,EAAG,KAAKC,EAAKF,EAAIG,CAAC,EAAGA,EAAGH,CAAG,CAI3C,EClBII,GAAOC,GACXC,EAAiBC,EAejB,SAASA,EAAKP,EAAKQ,EAASC,EAAO,CAE/B,GAAI,UAAU,SAAW,EACrB,OAAOF,EAAI,IAAIP,EAAKQ,EAASC,CAAK,EAGtC,GAAI,UAAU,SAAW,EACrB,OAAOF,EAAI,IAAIP,EAAKQ,CAAO,EAG/B,IAAIE,EAAUH,EAAI,KAAKA,EAAKP,CAAG,EAG/B,QAASW,KAAQJ,EACTA,EAAI,eAAeI,CAAI,IACvBD,EAAQC,CAAI,EAAIJ,EAAII,CAAI,EAAE,KAAKD,EAASV,CAAG,GAGnD,OAAOU,CACX,CAUAH,EAAI,IAAM,SAAcP,EAAKQ,EAAS,CAGlC,QAFII,EAAY,MAAM,QAAQJ,CAAO,EAAIA,EAAUD,EAAI,MAAMC,CAAO,EAE3D1B,EAAI,EAAGA,EAAI8B,EAAU,OAAQ,EAAE9B,EAAG,CACvC,IAAI+B,EAAMD,EAAU9B,CAAC,EACrB,GAAI,EAAE,OAAOkB,GAAO,UAAYa,KAAOb,GACnC,MAAM,IAAI,MAAM,4BAA8Ba,CAAG,EAErDb,EAAMA,EAAIa,CAAG,CAChB,CACD,OAAOb,CACX,EASAO,EAAI,IAAM,SAAcP,EAAKQ,EAASC,EAAO,CACzC,IAAIG,EAAY,MAAM,QAAQJ,CAAO,EAAIA,EAAUD,EAAI,MAAMC,CAAO,EAClEM,EAAUF,EAAU,CAAC,EAEvB,GAAIA,EAAU,SAAW,EACvB,MAAM,MAAM,6BAA6B,EAG3C,QAAS,EAAI,EAAG,EAAIA,EAAU,OAAS,EAAG,EAAE,EAAG,CAC3C,IAAIC,EAAMD,EAAU,CAAC,EACjB,OAAOC,GAAQ,UAAY,OAAOA,GAAQ,WAC5CA,EAAM,OAAOA,CAAG,GAEd,EAAAA,IAAQ,aAAeA,IAAQ,eAAiBA,IAAQ,eAGxDA,IAAQ,KAAO,MAAM,QAAQb,CAAG,IAClCa,EAAMb,EAAI,QAEZc,EAAUF,EAAU,EAAI,CAAC,EAEnBC,KAAOb,IACLc,EAAQ,MAAM,WAAW,EACzBd,EAAIa,CAAG,EAAI,GAEXb,EAAIa,CAAG,EAAI,IAGnBb,EAAMA,EAAIa,CAAG,EAChB,CACD,OAAIC,IAAY,KAAO,MAAM,QAAQd,CAAG,IACtCc,EAAUd,EAAI,QAEhBA,EAAIc,CAAO,EAAIL,EACR,IACX,EAQAF,EAAI,OAAS,SAAUP,EAAKQ,EAAS,CACjC,IAAII,EAAY,MAAM,QAAQJ,CAAO,EAAIA,EAAUD,EAAI,MAAMC,CAAO,EAChEO,EAAaH,EAAUA,EAAU,OAAQ,CAAC,EAC9C,GAAIG,IAAe,OACf,MAAM,IAAI,MAAM,qCAAuCP,EAAU,GAAG,EAGxE,IAAIQ,EAAST,EAAI,IAAIP,EAAKY,EAAU,MAAM,EAAG,EAAE,CAAC,EAChD,GAAI,MAAM,QAAQI,CAAM,EAAG,CACzB,IAAIC,EAAQ,CAACF,EACb,GAAIA,IAAe,IAAM,MAAME,CAAK,EAClC,MAAM,IAAI,MAAM,yBAA2BF,EAAa,GAAG,EAG7D,MAAM,UAAU,OAAO,KAAKC,EAAQC,EAAO,CAAC,CAClD,MACM,OAAOD,EAAOD,CAAU,CAE9B,EASAR,EAAI,KAAO,SAAeP,EAAKkB,EAAS,CACpC,IAAIC,EAAU,CAAA,EACd,OAAAZ,EAAI,KAAKP,EAAK,SAAUS,EAAOD,EAAS,CACpCW,EAAQX,CAAO,EAAIC,CACtB,EAAES,CAAO,EACHC,CACX,EAUAZ,EAAI,KAAO,SAAeP,EAAKoB,EAAUF,EAAS,CAC9C,IAAIN,EAAY,CAAA,EAEhBM,EAAUA,GAAW,SAAUT,EAAO,CAClC,IAAIY,EAAO,OAAO,UAAU,SAAS,KAAKZ,CAAK,EAC/C,OAAOY,IAAS,mBAAqBA,IAAS,gBACtD,EAEK,SAASC,EAAMC,EAAK,CACjBnB,GAAKmB,EAAK,SAAUd,EAAOe,EAAK,CAC5BZ,EAAU,KAAK,OAAOY,CAAG,CAAC,EACtBN,EAAQT,CAAK,EACba,EAAKb,CAAK,EAEVW,EAASX,EAAOF,EAAI,QAAQK,CAAS,CAAC,EAE1CA,EAAU,IAAG,CACzB,CAAS,CACJ,EAACZ,CAAG,CACT,EASAO,EAAI,IAAM,SAAcP,EAAKQ,EAAS,CAClC,GAAI,CACAD,EAAI,IAAIP,EAAKQ,CAAO,CACvB,OAAQzC,EAAG,CACR,MAAO,EACV,CACD,MAAO,EACX,EAQAwC,EAAI,OAAS,SAAiBkB,EAAK,CAC/B,OAAOA,EAAI,SAAU,EAAC,QAAQ,KAAM,IAAI,EAAE,QAAQ,MAAO,IAAI,CACjE,EAQAlB,EAAI,SAAW,SAAmBkB,EAAK,CACnC,OAAOA,EAAI,QAAQ,MAAO,GAAG,EAAE,QAAQ,MAAO,GAAG,CACrD,EAQAlB,EAAI,MAAQ,SAAgBC,EAAS,CACjC,GAAIA,IAAY,GAAM,MAAO,CAAE,EAC/B,GAAIA,EAAQ,OAAO,CAAC,IAAM,IAAO,MAAM,IAAI,MAAM,yBAA2BA,CAAO,EACnF,OAAOA,EAAQ,UAAU,CAAC,EAAE,MAAM,IAAI,EAAE,IAAID,EAAI,QAAQ,CAC5D,EAQAA,EAAI,QAAU,SAAkBK,EAAW,CACvC,OAAIA,EAAU,SAAW,EAAY,GAC9B,IAAMA,EAAU,IAAIL,EAAI,MAAM,EAAE,KAAK,GAAG,CACnD,EClOO,MAAMmB,EAAsB,CAAC,CAClC,QAAAlB,EACA,SAAAmB,EACA,KAAAC,EACA,cAAAC,CACF,IAKM,CACE,MAAAC,EAASH,EAASnB,CAAO,EAE/B,OAAOmB,EAASnB,CAAO,EAEjB,MAAAuB,EAAYC,EAAkBJ,EAAMpB,CAAO,EACjD,UAAWyB,KAAYF,EAAW,CAChCJ,EAASM,CAAQ,EAAIH,EACf,MAAAI,EAAuBC,EAAAA,IAAIP,EAAMK,CAAQ,EACzCG,EAAejD,EAAQ+C,EAAsBL,CAAa,EAC5DQ,EAAAA,IAAAT,EAAMK,EAAUG,CAAY,CAClC,CACF,EAEMJ,EAAoB,CAACJ,EAAYU,EAAc,KAAiB,CACpE,MAAMP,EAAY,CAAA,EACZQ,EAAOJ,EAAAA,IAAIP,EAAMU,CAAW,EAElC,GAAIC,EAAK,QACP,QAASzD,EAAI,EAAGA,EAAIyD,EAAK,QAAQ,OAAQzD,IACnCyD,EAAK,QAAQzD,CAAC,EAAE,WAAa,OAC/BiD,EAAU,KAAK,GAAGO,CAAW,YAAYxD,CAAC,QAAQ,EAExCiD,EAAA,KAAK,GAAGC,EAAkBJ,EAAM,GAAGU,CAAW,YAAYxD,CAAC,EAAE,CAAC,EAKvE,OAAAiD,CACT,EC7BaS,EAA0B,CAAC,CACtC,SAAAC,EACA,WAAAC,EACA,MAAAC,EACA,YAAAC,EACA,MAAAC,EACA,OAAAC,EACA,gBAAAC,EACA,UAAAC,EACA,aAAAC,CACF,KAgBS,CACL,OAAQ,iBACR,KAJW,GAFI,GADOA,GAAgB,4BACL,WAAWN,CAAK,iBAAiBC,CAAW,EAEvD,IADJF,IAAe,QAAU,UAAY,QAClB,IAAID,CAAQ,kBAAkBI,CAAK,kBAAkBC,CAAM,GAKhG,WAAY,CACV,MAAAH,EACA,YAAAC,EACA,MAAAC,EACA,OAAAC,EACA,OAAQL,EACR,WAAAC,EACA,gBAAAK,EACA,UAAAC,CACF,CAAA,GAISE,EAAsBC,GACjC,CAAC,UAAW,kBAAmB,gBAAgB,EAAE,SAASA,CAAS,EACxDC,EAAqBC,GAAuBC,EAAkB,SAASD,CAAQ,EAOrF,SAASE,EAA0DC,EAAgB,CACpF,GAAA,OAAO,iBAAoB,WAC7B,OAAO,gBAAgBA,CAAQ,EAG7B,GAAA,CACF,OAAO,KAAK,MAAM,KAAK,UAAUA,CAAQ,CAAC,QACnCC,EAAK,CACJ,eAAA,KAAK,wBAAyBD,EAAUC,CAAG,EAC5CD,CACT,CACF,CAEO,MAAMF,EAAgC,CAC3C,aACA,YACA,YACA,WACA,iBACA,eACA,UACF,EAEO,SAASI,EACdV,EACAW,EACA9B,EACA+B,EACApD,EACAmB,EACAmB,EACA,CAEA,MAAMrC,EAAQqC,EAASa,EAAab,CAAM,EAAIa,EAG9C,OAAQX,EAAW,CACjB,IAAK,SAAU,CACP,MAAAZ,EAAejD,EAAQsB,EAAOoB,CAAa,EAC7CQ,EAAAA,IAAAuB,EAAQpD,EAAS4B,CAAY,EACjC,KACF,CAEA,IAAK,WAAY,CACKV,EAAA,CAClB,QAAS,GACT,SAAAC,EACA,KAAMlB,EACN,cAAAoB,CAAA,CACD,EACD,KACF,CAEA,IAAK,QAAS,CACZ,MAAMgC,EAAepD,EAAM,IAAKqD,GAC1B,OAAOA,GAAS,SACX3E,EAAQ2E,EAAMjC,CAAa,EAE3BiC,CAEV,EACGzB,EAAAA,IAAAuB,EAAQpD,EAASqD,CAAY,EACjC,KACF,CACF,CACF,CCzHa,MAAAE,GAAwB,CACnCC,EACAf,IACoB,CAElB,GAAA,CAACe,GACD,CAACA,EAAwB,YACzB,CAACA,EAAwB,WAAW,kBAE5B,eAAA,MACN,qEACAA,CAAA,EAEKA,EAET,MAAMC,EAA0BV,EAC9BS,CAAA,EAEI,CACJ,OAAAE,EACA,aAAAC,EACA,iBAAAC,EACA,OAAAC,EACA,QAAAC,EACA,QAAAC,EACA,OAAAC,EACA,SAAA7C,EACA,WAAA8C,CAAA,EACER,EAAwB,WAAW,kBACjCL,EAASK,EAAwB,KAEvC,UAAWzD,KAAWmB,EAAU,CAC9B,KAAM,CAAE,OAAAG,CAAA,EAAWH,EAASnB,CAAO,EAE7BkE,EAAS,UAAW5C,EAASyC,EAAQzC,EAAO,KAAK,EAAI0C,EAAO1C,EAAO,KAAK,EACxEY,EAAa,UAAWZ,EAAS,QAAU,QAEjD,GAAI,CAAC4C,EACI,OAAAT,EAGH,MAAAtB,EAAQuB,EAAOQ,EAAO,KAAK,EAC3B9B,EAAcuB,EAAaO,EAAO,WAAW,EAC7CjC,EAAWiC,EAAO,GAClB7B,EAAQwB,EAAOvC,EAAO,KAAK,EAC3BgB,EAASwB,EAAQxC,EAAO,MAAM,EAC9BiB,EAAkBqB,EAAiBtC,EAAO,eAAe,EACzDkB,EAAYyB,EAAW3C,EAAO,SAAS,EAI3C,GAAA,EAAAoB,EAAmBH,EAAgB,eAAe,GAClD,CAACK,EAAkBL,EAAgB,QAAQ,GAKzC,GAAA4B,EAAA,IAAIf,EAAQpD,CAAO,EAAG,CAClB,MAAAmD,EAAexB,EAAAA,IAAIyB,EAAQpD,CAAO,EAExC,GAAImD,IAAiB,KAAM,CACzB,MAAM9B,EAAgBW,EAAwB,CAC5C,SAAAC,EACA,WAAAC,EACA,MAAAC,EACA,YAAAC,EACA,MAAAC,EACA,OAAAC,EACA,gBAAAC,EACA,UAAAC,EACA,aAAAC,CAAA,CACD,EAEDS,EAAYV,EAAWW,EAAc9B,EAAe+B,EAAQpD,EAASmB,CAAQ,CAC/E,CAAA,MAEQ,QAAA,MAAM,WAAWnB,CAAO,4DAA4D,CAEhG,CACO,OAAAyD,CACT,EChFMW,EAAgB,CACpBhB,EACAa,EACAL,EACAnB,IACG,CACC,GAAA,CAACW,EAAO,OACV,OAEI,KAAA,CAAE,kBAAAiB,CAAkB,EAAIjB,EAAO,IACrC,GAAI,CAACiB,EAAmB,CACtB,QAAQ,MAAM,qCAAqC,EACnD,MACF,CACM,KAAA,CAAE,SAAAlD,CAAa,EAAAkD,EAErB,UAAWrE,KAAWmB,EAAU,CAC9B,KAAM,CAAE,OAAAG,CAAA,EAAWH,EAASnB,CAAO,EAC7BmC,EAAQiB,EAAO,IAAI,MAAM,IAAI,GAC7BhB,EAAcgB,EAAO,IAAI,YAAY,IAAI,GACzCnB,EAAWmB,EAAO,IAAI,GACtBlB,EAAakB,EAAO,IAAI,KACxBZ,EAAYyB,EAAW3C,EAAO,SAAS,EACvCiB,EAAkBqB,EAAiBtC,EAAO,eAAe,EAI7D,GAAA,EAAAoB,EAAmBH,EAAgB,eAAe,GAClD,CAACK,EAAkBL,EAAgB,QAAQ,GAKzC,GAAA4B,EAAA,IAAIf,EAAQpD,CAAO,EAAG,CAClB,MAAAmD,EAAexB,EAAAA,IAAIyB,EAAQpD,CAAO,EACxC,GAAImD,IAAiB,KACnB,OAGI,MAAAd,EADarC,EAAQ,MAAM,GAAG,EACX,MACzB,GAAI,CAACqC,EAAO,CACF,QAAA,MAAM,qDAAsDrC,CAAO,EAC3E,MACF,CACM,MAAAsC,EAASc,EAAO,IAAI,OAG1B,GAAId,EAAQ,CACV,MAAMjB,EAAgBW,EAAwB,CAC5C,SAAAC,EACA,WAAAC,EACA,MAAAC,EACA,YAAAC,EACA,MAAAC,EACA,OAAAC,EACA,gBAAAC,EACA,UAAAC,EACA,aAAAC,CAAA,CACD,EAEDS,EAAYV,EAAWW,EAAc9B,EAAe+B,EAAQpD,EAASmB,CAAQ,CAAA,MAE7D,OAAO,KAAKgC,CAAY,EAChC,QAASb,GAAW,CAC1B,MAAMjB,EAAgBW,EAAwB,CAC5C,SAAAC,EACA,WAAAC,EACA,MAAAC,EACA,YAAAC,EACA,MAAAC,EACA,OAAAC,EACA,gBAAAC,EACA,UAAAC,EACA,aAAAC,CAAA,CACD,EAEDS,EACEV,EACAW,EACA9B,EACA+B,EACA,GAAGpD,CAAO,IAAIsC,CAAM,GACpBnB,EACAmB,CAAA,CACF,CACD,CACH,MAEQ,QAAA,MAAM,kCAAmCtC,EAASoD,CAAM,CAEpE,CACF,EAEakB,GAAoB,CAC/BC,EACA9B,IACkC,CAClC,MAAM+B,EAAsBzB,EAC1BwB,CAAA,EAIE,GAAAC,EAAoB,IAAI,OAAS,QAAS,CAC5C,MAAMC,EAAaD,EACf,GAAA,CAACC,EAAW,IAAI,wBAClB,eAAQ,MAAM,4CAA4C,EACnDA,EAEH,KAAA,CACJ,wBAAyB,CAAE,WAAAR,EAAY,iBAAAL,CAAiB,CAAA,EACtDa,EAAW,IACT,CAAE,MAAAC,EAAO,SAAAC,CAAa,EAAAF,EAEtBC,EAAA,QAAStB,GAAWgB,EAAchB,EAAQa,EAAYL,EAAkBnB,CAAY,CAAC,EACvFkC,GAAYA,EAAS,OACvBA,EAAS,MAAM,QAASC,GACtBR,EAAcQ,EAAOX,EAAYL,EAAkBnB,CAAY,CAAA,EAG/DkC,GAAYA,EAAS,OACvBA,EAAS,MAAM,QAASE,GACtBT,EAAcS,EAAOZ,EAAYL,EAAkBnB,CAAY,CAAA,CAEnE,KAEK,CACL,MAAMmC,EAAQJ,EACV,GAAA,CAACI,EAAM,IAAI,wBACb,eAAQ,MAAM,4CAA4C,EACnDA,EAGTR,EACEQ,EACAA,EAAM,IAAI,wBAAwB,WAClCA,EAAM,IAAI,wBAAwB,iBAClCnC,CAAA,CAEJ,CAEO,OAAA+B,CACT","x_google_ignoreList":[0,2,3]}